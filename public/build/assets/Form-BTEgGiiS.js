import{l as x,x as y,c as p,o as c,b as t,a as l,u as s,F as k,f as h,w as g,j as w,S as U,t as v,k as C,d as q}from"./app-DV9BFyoD.js";import{_ as i,a as d,b as n}from"./TextInput-BRQsFjEv.js";import{P}from"./PrimaryButton-BB9w0fsY.js";import{_}from"./Checkbox-BA4erk_u.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"p-6"},$={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},B={class:"col-span-2"},S={class:"flex items-center"},j={class:"col-span-2"},A={class:"mt-2 space-y-2"},F={class:"ml-2 text-sm text-gray-600"},D={class:"flex items-center justify-end mt-6"},T={__name:"Form",props:{user:{type:Object,default:()=>({name:"",email:"",phone:"",designation:"",is_enabled:!0,roles:[]})},roles:{type:Array,required:!0}},setup(f){const r=f,m=x(()=>r.user.id),e=y({name:r.user.name,email:r.user.email,phone:r.user.phone,designation:r.user.designation,password:"",password_confirmation:"",is_enabled:r.user.is_enabled??!0,roles:r.user.roles||[]}),b=u=>{const a=e.roles.indexOf(u);a===-1?e.roles.push(u):e.roles.splice(a,1)},V=()=>{m.value?e.put(route("users.update",r.user.id)):e.post(route("users.store"))};return(u,a)=>(c(),p("div",N,[t("form",{onSubmit:q(V,["prevent"])},[t("div",$,[t("div",null,[l(i,{for:"name",value:"Name"}),l(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":a[0]||(a[0]=o=>s(e).name=o),required:"",autofocus:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),t("div",null,[l(i,{for:"email",value:"Email"}),l(d,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(e).email,"onUpdate:modelValue":a[1]||(a[1]=o=>s(e).email=o),required:""},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),t("div",null,[l(i,{for:"phone",value:"Phone"}),l(d,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:s(e).phone,"onUpdate:modelValue":a[2]||(a[2]=o=>s(e).phone=o)},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.phone},null,8,["message"])]),t("div",null,[l(i,{for:"designation",value:"Designation"}),l(d,{id:"designation",type:"text",class:"mt-1 block w-full",modelValue:s(e).designation,"onUpdate:modelValue":a[3]||(a[3]=o=>s(e).designation=o)},null,8,["modelValue"]),l(n,{class:"mt-2",message:s(e).errors.designation},null,8,["message"])]),t("div",null,[l(i,{for:"password",value:m.value?"New Password (optional)":"Password"},null,8,["value"]),l(d,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:s(e).password,"onUpdate:modelValue":a[4]||(a[4]=o=>s(e).password=o),required:!m.value,autocomplete:"new-password"},null,8,["modelValue","required"]),l(n,{class:"mt-2",message:s(e).errors.password},null,8,["message"])]),t("div",null,[l(i,{for:"password_confirmation",value:m.value?"Confirm New Password":"Confirm Password"},null,8,["value"]),l(d,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:s(e).password_confirmation,"onUpdate:modelValue":a[5]||(a[5]=o=>s(e).password_confirmation=o),required:!!s(e).password,autocomplete:"new-password"},null,8,["modelValue","required"]),l(n,{class:"mt-2",message:s(e).errors.password_confirmation},null,8,["message"])]),t("div",B,[t("label",S,[l(_,{checked:s(e).is_enabled,"onUpdate:checked":a[6]||(a[6]=o=>s(e).is_enabled=o)},null,8,["checked"]),a[7]||(a[7]=t("span",{class:"ml-2 text-sm text-gray-600"},"Account Active",-1))]),l(n,{class:"mt-2",message:s(e).errors.is_enabled},null,8,["message"])]),t("div",j,[l(i,{value:"Roles"}),t("div",A,[(c(!0),p(k,null,h(f.roles,o=>(c(),p("label",{key:o.id,class:"flex items-center"},[l(_,{checked:s(e).roles.includes(o.id),onChange:E=>b(o.id)},null,8,["checked","onChange"]),t("span",F,v(o.name),1)]))),128))]),l(n,{class:"mt-2",message:s(e).errors.roles},null,8,["message"])])]),t("div",D,[l(s(U),{href:u.route("users.index"),class:"text-gray-600 hover:text-gray-900 mr-4"},{default:g(()=>a[8]||(a[8]=[w(" Cancel ")])),_:1,__:[8]},8,["href"]),l(P,{class:C(["ml-4",{"opacity-25":s(e).processing}]),disabled:s(e).processing},{default:g(()=>[w(v(m.value?"Update":"Create")+" User ",1)]),_:1},8,["class","disabled"])])],32)]))}};export{T as default};
