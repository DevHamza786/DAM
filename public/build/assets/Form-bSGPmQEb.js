import{x as v,H as h,c as u,o as g,b as a,d as w,a as n,u as o,h as k,w as f,j as y,S as C,t as S,k as V}from"./app-DPloUjvg.js";import{_ as b,a as B,b as x}from"./TextInput-C7x15lMk.js";import{P as j}from"./PrimaryButton-xv0fk3Oi.js";import{_ as N}from"./Checkbox-sQUfhtSA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-12"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={key:0,class:"mt-2 flex justify-center items-center bg-gray-200 border border-gray-400 rounded p-2",style:{"min-height":"80px","min-width":"120px"}},P=["src","alt"],U={class:"md:col-span-2"},q={class:"flex items-center"},z={class:"flex items-center justify-end mt-6 gap-4"},O={__name:"Form",props:{company:{type:Object,default:()=>({})},submitButtonText:{type:String,default:"Save"}},setup(r){var m,d;const i=r,e=v({name:((m=i.company)==null?void 0:m.name)??"",logo:null,is_active:((d=i.company)==null?void 0:d.is_active)??!0}),_=()=>{var t;if((t=i.company)!=null&&t.id){const s=new FormData;s.append("name",e.name??""),s.append("is_active",e.is_active?1:0),e.logo&&s.append("logo",e.logo),s.append("_method","PUT"),e.post(route("companies.update",i.company.id),s,{preserveScroll:!0,forceFormData:!0})}else e.post(route("companies.store"))};return h(()=>{var t;return(t=i.company)==null?void 0:t.name},t=>{e.name||(e.name=t||"")}),(t,s)=>{var c,p;return g(),u("div",T,[a("div",$,[a("form",{onSubmit:w(_,["prevent"]),class:"p-6"},[a("div",D,[a("div",null,[n(b,{for:"name",value:"Company Name"}),n(B,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o(e).name,"onUpdate:modelValue":s[0]||(s[0]=l=>o(e).name=l),required:""},null,8,["modelValue"]),n(x,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),a("div",null,[n(b,{for:"logo",value:"Company Logo"}),a("input",{type:"file",id:"logo",onChange:s[1]||(s[1]=l=>o(e).logo=l.target.files[0]),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 p-1",accept:"image/*"},null,32),n(x,{message:o(e).errors.logo,class:"mt-2"},null,8,["message"]),(c=r.company)!=null&&c.logo?(g(),u("div",F,[a("img",{src:"/storage/"+r.company.logo,class:"h-20 w-auto max-w-full object-contain",alt:(p=r.company)==null?void 0:p.name},null,8,P)])):k("",!0)]),a("div",U,[a("label",q,[n(N,{checked:o(e).is_active,"onUpdate:checked":s[2]||(s[2]=l=>o(e).is_active=l)},null,8,["checked"]),s[3]||(s[3]=a("span",{class:"ml-2 text-sm text-gray-600"},"Active",-1))])])]),a("div",z,[n(o(C),{href:t.route("companies.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 focus:bg-gray-400"},{default:f(()=>s[4]||(s[4]=[y(" Cancel ")])),_:1,__:[4]},8,["href"]),n(j,{class:V({"opacity-25":o(e).processing}),disabled:o(e).processing},{default:f(()=>[y(S(r.submitButtonText),1)]),_:1},8,["class","disabled"])])],32)])])}}};export{O as default};
