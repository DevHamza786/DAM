import{x as B,r as k,c,o as p,a as r,u as t,g as F,w as g,b as e,d as M,e as y,F as b,f as z,t as f,v as x,h as V,n as A,i as U,S as D,j as w,k as I}from"./app-tUvYeGV1.js";import{_ as N}from"./AuthenticatedLayout-BYUspoDT.js";import{_ as n,a as P,b as d}from"./TextInput-Dk5wxqfX.js";import{P as T}from"./PrimaryButton-COu1GV3f.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-BNUdn32H.js";const L={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W=["value"],G={key:0,class:"mt-2"},R={class:"flex justify-between mb-1"},K={class:"text-sm font-medium text-gray-600"},H={class:"text-sm font-medium text-gray-600"},J={class:"w-full bg-gray-200 rounded-full h-2.5"},O={class:"md:col-span-2"},Q={class:"flex items-center justify-end mt-6 gap-4"},X={__name:"Create",props:{companies:{type:Array,required:!0}},setup(h){const s=B({name:"",company_id:"",category:"",description:"",file:null}),i=k(null);function C(l){const o=l.target.files[0];if(!o){s.file=null,i.value=null;return}const v=1024*1024*1024;if(o.size>v){s.setError("file","File is too large. Maximum size is 1GB."),s.file=null,l.target.value="",i.value=null;return}if(s.clearErrors("file"),s.file=o,o&&o.type.startsWith("image/")){const u=new FileReader;u.onload=m=>{i.value=m.target.result},u.readAsDataURL(o)}else i.value=null}function S(){s.post(route("assets.store"),{forceFormData:!0,onSuccess:()=>{s.reset("name","description","category","company_id","file"),i.value=null}})}function _(l,o=2){if(!l||l===0)return"0 Bytes";const a=1024,v=o<0?0:o,u=["Bytes","KB","MB","GB","TB"],m=Math.floor(Math.log(l)/Math.log(a));return parseFloat((l/Math.pow(a,m)).toFixed(v))+" "+u[m]}return(l,o)=>(p(),c(b,null,[r(t(F),{title:"Upload New Asset"}),r(N,null,{header:g(()=>o[4]||(o[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Upload New Asset ",-1)])),default:g(()=>[e("div",L,[e("div",$,[e("div",j,[e("form",{onSubmit:M(S,["prevent"]),class:"p-6"},[e("div",E,[e("div",null,[r(n,{for:"name",value:"Asset Name"}),r(P,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(s).name,"onUpdate:modelValue":o[0]||(o[0]=a=>t(s).name=a),required:""},null,8,["modelValue"]),r(d,{message:t(s).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[r(n,{for:"company",value:"Company"}),y(e("select",{id:"company","onUpdate:modelValue":o[1]||(o[1]=a=>t(s).company_id=a),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:""},[o[5]||(o[5]=e("option",{value:""},"Select Company",-1)),(p(!0),c(b,null,z(h.companies,a=>(p(),c("option",{key:a.id,value:a.id},f(a.name),9,W))),128))],512),[[x,t(s).company_id]]),r(d,{message:t(s).errors.company_id,class:"mt-2"},null,8,["message"])]),e("div",null,[r(n,{for:"category",value:"Category"}),y(e("select",{id:"category","onUpdate:modelValue":o[2]||(o[2]=a=>t(s).category=a),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",required:""},o[6]||(o[6]=[e("option",{value:""},"Select Category",-1),e("option",{value:"Credentials"},"Credentials",-1),e("option",{value:"Showreel"},"Showreel",-1),e("option",{value:"Images Albums"},"Images Albums",-1),e("option",{value:"PPT Template"},"PPT Template",-1),e("option",{value:"Logo Files"},"Logo Files",-1),e("option",{value:"Creative Work"},"Creative Work",-1),e("option",{value:"Case Studies"},"Case Studies",-1),e("option",{value:"Documents"},"Documents",-1)]),512),[[x,t(s).category]]),r(d,{message:t(s).errors.category,class:"mt-2"},null,8,["message"])]),e("div",null,[r(n,{for:"file",value:"File"}),e("input",{type:"file",id:"file",onInput:C,class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 p-1",required:""},null,32),r(d,{message:t(s).errors.file,class:"mt-2"},null,8,["message"]),t(s).progress?(p(),c("div",G,[e("div",R,[e("span",K,f(_(t(s).file.size*t(s).progress.percentage/100))+" / "+f(_(t(s).file.size)),1),e("span",H,f(t(s).progress.percentage)+"%",1)]),e("div",J,[e("div",{class:"bg-blue-600 h-2.5 rounded-full",style:A({width:t(s).progress.percentage+"%"})},null,4)])])):V("",!0)]),e("div",O,[r(n,{for:"description",value:"Description"}),y(e("textarea",{id:"description","onUpdate:modelValue":o[3]||(o[3]=a=>t(s).description=a),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"3"},null,512),[[U,t(s).description]]),r(d,{message:t(s).errors.description,class:"mt-2"},null,8,["message"])])]),e("div",Q,[r(t(D),{href:l.route("assets.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 focus:bg-gray-400"},{default:g(()=>o[7]||(o[7]=[w(" Cancel ")])),_:1,__:[7]},8,["href"]),r(T,{class:I({"opacity-25":t(s).processing}),disabled:t(s).processing},{default:g(()=>o[8]||(o[8]=[w(" Upload Asset ")])),_:1,__:[8]},8,["class","disabled"])])],32)])])])]),_:1})],64))}},ae=q(X,[["__scopeId","data-v-7955cdb5"]]);export{ae as default};
