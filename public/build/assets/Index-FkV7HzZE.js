import{r as x,l as h,m as B,W as g,c,o as m,a as l,u as a,g as M,w as o,b as e,e as P,i as U,h as D,S as y,j as v,k as V,t as d,F as b,f as I}from"./app-DV9BFyoD.js";import{_ as N}from"./AuthenticatedLayout-ppckJ223.js";import{d as T,D as z}from"./debounce-nUUzDNKZ.js";import"./ApplicationLogo-C3r3mCs9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"flex justify-between items-center"},H={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},$={class:"p-6 text-gray-900"},F={class:"mb-6"},R={class:"relative"},W={class:"font-medium text-gray-900"},q={class:"text-sm text-gray-500"},O={class:"text-sm text-gray-900"},Q={class:"flex flex-wrap gap-1"},G={class:"flex justify-end space-x-3"},J=["onClick"],te={__name:"Index",props:{users:{type:Object,required:!0},filters:{type:Object,default:()=>({})}},setup(w){const n=w,_=[{text:"Name & Email",value:"name",sortable:!0},{text:"Designation",value:"designation",sortable:!0},{text:"Roles",value:"roles",sortable:!1},{text:"Status",value:"status",sortable:!0,width:100},{text:"Actions",value:"actions",sortable:!1,width:150}],p=x({page:1,rowsPerPage:10,sortBy:"name",sortType:"asc"}),u=x(n.filters.search||""),k=h(()=>n.users.total),C=h(()=>n.users.data||[]);B(()=>{p.value.page=n.users.current_page,p.value.rowsPerPage=n.users.per_page});const f=T(r=>{g.get(route("users.index"),{search:u.value,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})},300),S=r=>{g.get(route("users.index"),{page:r.page,perPage:r.rowsPerPage,sort:r.sortBy,order:r.sortType,search:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},j=r=>{confirm(`Are you sure you want to delete ${r.name}?`)&&g.delete(route("users.destroy",r.id))};return(r,s)=>(m(),c(b,null,[l(a(M),{title:"Users"}),l(N,null,{header:o(()=>[e("div",A,[s[3]||(s[3]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Users",-1)),l(a(y),{href:r.route("users.create"),class:"inline-flex items-center px-4 py-2 bg-black border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:o(()=>s[2]||(s[2]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),v(" Create User ")])),_:1,__:[2]},8,["href"])])]),default:o(()=>[e("div",H,[e("div",E,[e("div",L,[e("div",$,[e("div",F,[e("div",R,[s[4]||(s[4]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),P(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),onInput:s[1]||(s[1]=(...t)=>a(f)&&a(f)(...t)),placeholder:"Search users by name, email, or designation...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,544),[[U,u.value]])])]),l(a(z),{headers:_,items:C.value,"server-options":p.value,"server-items-length":k.value,"onUpdate:options":S,"table-class-name":"customize-table","show-index":"",alternating:"","rows-items":[10,25,50,100],"rows-per-page-message":"Rows per page"},{"item-name":o(t=>[e("div",W,d(t.name),1),e("div",q,d(t.email),1)]),"item-designation":o(t=>[e("div",O,d(t.designation||"-"),1)]),"item-roles":o(({roles:t})=>[e("div",Q,[(m(!0),c(b,null,I(t,i=>(m(),c("span",{key:i.id,class:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full"},d(i.name),1))),128))])]),"item-status":o(({is_enabled:t})=>[e("span",{class:V(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},d(t?"Active":"Inactive"),3)]),"item-actions":o(t=>[e("div",G,[l(a(y),{href:r.route("users.edit",t.id),class:"inline-flex items-center text-indigo-600 hover:text-indigo-900"},{default:o(()=>s[5]||(s[5]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),v(" Edit ")])),_:2,__:[5]},1032,["href"]),t.roles.some(i=>i.name==="admin")?D("",!0):(m(),c("button",{key:0,onClick:i=>j(t),class:"inline-flex items-center text-red-600 hover:text-red-900"},s[6]||(s[6]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),v(" Delete ")]),8,J))])]),_:1},8,["items","server-options","server-items-length"])])])])])]),_:1})],64))}};export{te as default};
