import{r as f,l as x,H as P,m as B,W as m,c,o as l,a as u,u as n,g as M,w as r,b as e,I as S,e as H,i as V,h as A,S as w,j as p,k as I,t as g,F as D}from"./app-BwcJC9Dh.js";import{_ as N}from"./AuthenticatedLayout-CfaI68El.js";import{d as T,D as z}from"./debounce-XvRQNGH2.js";import"./Loader-CRTtxZr-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex justify-between items-center"},L={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-6 text-gray-900"},F={class:"mb-6"},W={class:"relative"},q={class:"flex items-center py-2"},Q={class:"h-12 w-12 flex-shrink-0 flex items-center justify-center bg-gray-200 border border-gray-400 rounded-lg overflow-hidden"},R=["src","alt"],G={key:1,class:"flex items-center justify-center w-full h-full"},J=["href"],K={class:"font-semibold text-gray-700"},X={class:"flex justify-start space-x-3"},Y=["onClick"],re={__name:"Index",props:{companies:{type:Object,required:!0}},setup(y){const i=y,b=[{text:"Logo",value:"logo",sortable:!1,width:100},{text:"Name",value:"name",sortable:!0},{text:"Assets",value:"assets_count",sortable:!1,width:80},{text:"Status",value:"status",sortable:!0,width:100},{text:"Actions",value:"actions",sortable:!1,width:150}],a=f({page:1,rowsPerPage:10,sortBy:"name",sortType:"asc"}),d=f(""),_=x(()=>i.companies.total),k=x(()=>i.companies.data||[]);P(()=>i.companies,s=>{a.value.page=s.current_page,a.value.rowsPerPage=s.per_page||s.perPage}),B(()=>{a.value.page=i.companies.current_page,a.value.rowsPerPage=i.companies.per_page});const h=T(s=>{m.get(route("companies.index"),{search:d.value,page:1},{preserveState:!0,preserveScroll:!0,replace:!0})},300),j=s=>{m.get(route("companies.index"),{page:s.page,perPage:s.rowsPerPage,sort:s.sortBy,order:s.sortType,search:d.value},{preserveScroll:!0,replace:!0})},C=s=>{confirm(`Are you sure you want to delete ${s.name}?`)&&m.delete(route("companies.destroy",s.id))};return(s,o)=>(l(),c(D,null,[u(n(M),{title:"Companies"}),u(N,null,{header:r(()=>[e("div",O,[o[3]||(o[3]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Companies",-1)),u(n(w),{href:s.route("companies.create"),class:"inline-flex items-center px-4 py-2 bg-black border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:r(()=>o[2]||(o[2]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),p(" Add Company ")])),_:1,__:[2]},8,["href"])])]),default:r(()=>[e("div",L,[e("div",U,[e("div",$,[e("div",E,[e("div",F,[e("div",W,[o[4]||(o[4]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),H(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t),onInput:o[1]||(o[1]=(...t)=>n(h)&&n(h)(...t)),placeholder:"Search companies by name, email, or phone...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,544),[[V,d.value]])])]),(l(),S(n(z),{key:a.value.page+"-"+a.value.rowsPerPage,headers:b,items:k.value,"server-options":a.value,"server-items-length":_.value,"onUpdate:serverOptions":j,"table-class-name":"customize-table","show-index":"",alternating:"","rows-items":[10,25,50,100],"rows-per-page-message":"Rows per page"},{"item-logo":r(({logo:t,name:v})=>[e("div",q,[e("div",Q,[t?(l(),c("img",{key:0,src:"/storage/"+t,class:"h-10 w-10 object-contain",alt:v},null,8,R)):(l(),c("div",G,o[5]||(o[5]=[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)])))])])]),"item-name":r(t=>[e("a",{class:"font-medium text-gray-900 cursor-pointer hover:underline",href:s.route("assets.index",{company_id:t.id})},g(t.name),9,J)]),"item-assets_count":r(t=>[e("span",K,g(t.assets_count),1)]),"item-status":r(({is_active:t})=>[e("span",{class:I(["px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},g(t?"Active":"Inactive"),3)]),"item-actions":r(t=>[e("div",X,[u(n(w),{href:s.route("companies.edit",t.id),class:"inline-flex items-center text-indigo-600 hover:text-indigo-900"},{default:r(()=>o[6]||(o[6]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p(" Edit ")])),_:2,__:[6]},1032,["href"]),t.assets_count===0?(l(),c("button",{key:0,onClick:v=>C(t),class:"inline-flex items-center text-red-600 hover:text-red-900"},o[7]||(o[7]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),p(" Delete ")]),8,Y)):A("",!0)])]),_:1},8,["items","server-options","server-items-length"]))])])])])]),_:1})],64))}};export{re as default};
